(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{23:function(e,t,n){},38:function(e,t,n){},48:function(e,t,n){},76:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(15),s=n.n(a),c=(n(48),n(5)),o=n(4),l=n(18),i=n(39),u=n(40),d=n(2),j="CREATE_USER",m="SET_LOGGED_IN_USER",b="SET_ERROR",p="LOG_USER_OUT",h="LOGIN_USER",O="SET_LOADING",f="CREATE_RENT_REQUEST",x="FETCH_ACCOMMODATION_STATUSES",g={statuses:[]},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case x:return Object(d.a)(Object(d.a)({},e),{},{statuses:r});default:return e}},y={createdUser:null,token:null,user:null,error:null},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case j:return Object(d.a)(Object(d.a)({},e),{},{createdUser:r});case h:return Object(d.a)(Object(d.a)({},e),{},{token:r.token,user:r.user});case m:return Object(d.a)(Object(d.a)({},e),{},{user:r.user,token:r.token});case b:return Object(d.a)(Object(d.a)({},e),{},{error:r});case p:return Object(d.a)(Object(d.a)({},e),{},{user:null,token:null,error:null,isLoading:!1,createdUser:null,loginMode:null});default:return e}},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case O:return r;default:return e}},A={rentRequest:null},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case f:return Object(d.a)(Object(d.a)({},e),{},{rentRequest:r});default:return e}},q=Object(l.combineReducers)({auth:N,loading:w,rentRequest:S,accommodationStatuses:v}),k=[i.a],T=Object(l.createStore)(q,{},Object(u.composeWithDevTools)(l.applyMiddleware.apply(void 0,k))),E=(n(52),n(53),n(14)),P=n(9),R=n.n(P),C=n(16),_=n(41),L=n.n(_),M=n(11),U=Object(M.a)(),I=n(17),F=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5e3;switch(e){case"info":return I.NotificationManager.info(t);case"success":return I.NotificationManager.success(t,n);case"warning":return I.NotificationManager.warning(t,n,r);case"danger":return I.NotificationManager.error(t,n,r);default:return I.NotificationManager.info(t)}},D=L.a.create({baseURL:"http://localhost:6755/api/v1",timeout:1e4,headers:{"Content-Type":"application/json"}});D.interceptors.response.use((function(e){return e}),(function(e){if(e.response&&401===e.response.status){F("danger","Token expired"),U.push({pathname:"/login",state:U.location}),K()}return Promise.reject(e)}));var H=D,B=function(){return{type:O,payload:!0}},G=function(){return{type:O,payload:!1}},J=function(e){e?H.defaults.headers.common.Authorization=e:delete H.defaults.headers.common.Authorization},W=function(e,t){return function(){var n=Object(C.a)(R.a.mark((function n(r){return R.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:try{r(B()),setTimeout(Object(C.a)(R.a.mark((function n(){var a,s,c,o;return R.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,H.post("/register",e);case 3:a=n.sent,(s=a.data)&&(c=s.data,r({type:j,payload:c}),r(G()),F("success","Registration was successful"),t.push("/login")),n.next=15;break;case 8:n.prev=8,n.t0=n.catch(0),r(G()),o=n.t0.response&&n.t0.response.data.message,F("danger",o||"Error occurred while creating user account"),n.t0.response&&n.t0.response.data.error&&n.t0.response.data.error.length>0&&(o+="\n"+Object.values(n.t0.response.data.error).map((function(e){return e.msg})).join("\n"),F("danger",o)),r({type:b,payload:o});case 15:case"end":return n.stop()}}),n,null,[[0,8]])}))),2e3)}catch(a){r(G()),console.error("Error",a)}case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},K=function(){return function(){var e=Object(C.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.setItem("user",null),localStorage.setItem("token",null),t(z()),t(Y());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},z=function(){return{type:p}},Y=function(){return{type:"CLEAR_USER"}},Q=function(e,t){var n=t.history,r=t.location;return function(t){try{t(B()),setTimeout(Object(C.a)(R.a.mark((function a(){var s,c,o,l,i,u;return R.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,H.post("/login",e);case 3:s=a.sent,(c=s.data)&&(o=c&&c.data,l=o.token,i=o.user,J(l),t({type:h,payload:{user:i,token:l}}),t(G()),V({user:i,token:l}),F("success","Login was successful"),r.state&&r.state.pathname?n.push(r.state.pathname):n.push("/rent-request/add")),a.next=15;break;case 8:a.prev=8,a.t0=a.catch(0),t(G()),u=a.t0.response&&a.t0.response.data.message,F("danger",u||"Error occurred while logging in user"),a.t0.response&&a.t0.response.data.error&&a.t0.response.data.error.length>0&&(u+="\n"+Object.values(a.t0.response.data.error).map((function(e){return e.msg})).join("\n"),F("danger",u)),t({type:b,payload:u});case 15:case"end":return a.stop()}}),a,null,[[0,8]])}))),2e3)}catch(a){t(G()),console.log("An error occurred while setting loading")}}},V=function(e){var t=e.user,n=e.token;t&&localStorage.setItem("user",JSON.stringify(t)),n&&localStorage.setItem("token",n)},X=(n(76),n(0)),Z=Object(c.g)((function(e){var t=e.history,n=Object(o.d)((function(e){return e.auth})).user,a=Object(o.c)(),s=function(e){if(e&&e.fullName){var t=e.fullName;return(t=t.charAt(0).toUpperCase()+t.substr(1)).trim().length>4?t.substr(0,4):t}return e&&e.fullName};return Object(X.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-purple sticky-top",children:Object(X.jsxs)("div",{className:"container",children:[Object(X.jsx)(E.a,{className:"navbar-brand",to:"/",children:Object(X.jsx)("h3",{children:"Kwaba"})}),Object(X.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:[Object(X.jsx)("ul",{className:"navbar-nav mr-auto",children:Object(X.jsx)("li",{className:"nav-item",children:Object(X.jsx)(E.a,{className:"nav-link",to:"/rent-request/add",children:"Rent Request Application"})})}),Object(X.jsx)("ul",{className:"navbar-nav nav-right ml-auto",children:n?Object(X.jsxs)(r.Fragment,{children:[Object(X.jsx)("li",{className:"nav-item d-flex align-items-center",children:Object(X.jsxs)("span",{children:["Hello ",s(n)]})}),Object(X.jsx)("li",{className:"nav-item ml-3",children:Object(X.jsx)("button",{type:"button",className:"btn btn-outline-light",onClick:function(){return a(K()),t.push("/login"),void F("success","Successfully logged out")},children:"Logout"})})]}):Object(X.jsxs)(r.Fragment,{children:[Object(X.jsx)("li",{className:"nav-item d-flex align-items-center px-3",children:Object(X.jsx)(E.a,{className:"nav-link",to:"/sign-up",children:"Sign up"})}),Object(X.jsx)("li",{className:"nav-item d-flex align-items-center",children:Object(X.jsx)(E.a,{className:"btn btn-outline-light",to:"/login",children:"Login"})})]})})]})]})})})),$=n(8),ee=(n(23),function(e,t){if(isNaN(e))return e;var n=t&&t.code?t.code:"NG",r=t&&t.currency?t.currency:"NGN";return new Intl.NumberFormat("en-".concat(n),{style:"currency",currency:r,currencyDisplay:"symbol"}).format(e)}),te=function(){return JSON.parse(localStorage.getItem("user"))},ne=n.p+"static/media/spinner.7942ae58.gif",re=function(e){e.loading;var t=e.message;return Object(X.jsxs)("div",{style:ae,children:[Object(X.jsx)("img",{src:ne,alt:"Loader",style:{height:"100vh",width:"100%",objectFit:"contain"}}),Object(X.jsx)("span",{style:{position:"absolute",top:"72%"},children:t})]})},ae={display:"flex",justifyContent:"center",alignItems:"center"};re.defaultProps={message:"Loading..."};var se=Object(o.b)((function(e){return{loading:e.loading}}))(re),ce=(n(38),Object(o.b)(null,null)(Object(c.g)((function(e){var t=e.history,n=e.salaryAmount,a=e.requestAmount,s=e.paymentPlan,c=e.handleRequestAmount,l=e.handlePaymentPlan,i=Object(r.useState)({}),u=Object($.a)(i,2),j=u[0],m=u[1],p=Object(o.c)(),h=Object(o.d)((function(e){return e.loading})),O=function(e){var t=Object(d.a)({},j);e&&0!==e.trim().length?delete t.requestAmount:t.requestAmount="The request amount field is required",m(t)};return h?Object(X.jsx)(se,{}):Object(X.jsx)("div",{className:"card p-3",children:Object(X.jsxs)("div",{className:"card-body",children:[Object(X.jsx)("h5",{className:"text-dark-purple",children:"Payment Breakdown"}),Object(X.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),O(a),Object.keys(j).length>0)return!1;p(function(e,t){return function(n){try{n(B()),setTimeout(Object(C.a)(R.a.mark((function r(){var a,s,c,o,l;return R.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,a=te(),r.next=4,H.post("/rent-request",Object(d.a)(Object(d.a)({},e),{},{requester:a._id}));case 4:s=r.sent,(c=s.data)&&(o=c.data,n({type:f,payload:o}),n(G()),F("success","Successfully created rent request"),t.push("/rent-request/".concat(o._id))),r.next=16;break;case 9:r.prev=9,r.t0=r.catch(0),n(G()),l=r.t0.response&&r.t0.response.data.message,F("danger",l||"Error occurred while creating user account"),r.t0.response&&r.t0.response.data.error&&r.t0.response.data.error.length>0&&(l+="\n"+Object.values(r.t0.response.data.error).map((function(e){return e.msg})).join("\n"),F("danger",l)),n({type:b,payload:l});case 16:case"end":return r.stop()}}),r,null,[[0,9]])}))),2e3)}catch(r){n(G()),console.error("Error",r)}}}({requestAmount:a,paymentPlan:s,salaryAmount:n},t))},className:"mt-3",children:[Object(X.jsxs)("div",{className:"form-group my-3",children:[Object(X.jsx)("label",{children:"Rent request amount ?"}),Object(X.jsx)("input",{type:"number",name:"requestAmount",value:a,className:"form-control",onChange:function(e){var t=e.target.value;c(t),O(t)},placeholder:"Amount"}),j.requestAmount&&Object(X.jsx)("span",{className:"text-danger error-text",children:j.requestAmount})]}),Object(X.jsxs)("div",{className:"form-group my-3",children:[Object(X.jsx)("label",{children:"Monthly payment plan ?"}),Object(X.jsxs)("select",{className:"form-control",name:"paymentPlan",value:s,onChange:function(e){var t=e.target.value;return l(t)},children:[Object(X.jsx)("option",{value:"1",children:"1 Month"}),Object(X.jsx)("option",{value:"3",children:"3 Months"}),Object(X.jsx)("option",{value:"6",children:"6 Months"}),Object(X.jsx)("option",{value:"12",children:"12 Months"})]})]}),Object(X.jsxs)("div",{className:"form-group my-3",children:[Object(X.jsx)("label",{children:"Payment Option "}),Object(X.jsxs)("div",{className:"card light-purple payment-option-card p-3",children:[Object(X.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(X.jsx)("div",{children:" Pre-approved amount"}),Object(X.jsxs)("div",{children:[" ",ee(a)," "]})]}),Object(X.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(X.jsx)("div",{children:" Monthly Payment"}),Object(X.jsxs)("div",{children:[" ",function(e,t){var n=e/t,r=(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_BASE_URL:"http://localhost:6755/api/v1"}).MONTHLY_INTEREST||2)+100;return ee(r*n/100)}(a,s)," "]})]}),Object(X.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(X.jsx)("div",{children:" Tenor"}),Object(X.jsxs)("div",{children:["  ",s,1===s?" month":" months"," "]})]})]})]}),Object(X.jsx)("div",{className:"form-group my-5",children:Object(X.jsx)("input",{type:"submit",disabled:Object.keys(j).length>0,className:"btn btn-lg btn-purple form-control",value:"Accept"})})]})]})})})))),oe=n(26),le=(n(80),function(e){var t=e.handleRentRequest,n=e.salaryAmount,a=e.paymentPlan,s=e.requestAmount,c=e.handleRequestAmount,l=e.handlePaymentPlan,i=e.handleSalaryAmount,u=Object(r.useState)("renew_rent"),j=Object($.a)(u,2),m=j[0],p=j[1],h=Object(r.useState)({}),O=Object($.a)(h,2),f=O[0],g=O[1],v=Object(o.c)(),y=Object(o.d)((function(e){return e.accommodationStatuses})).statuses;return Object(r.useEffect)((function(){v((function(e){try{e(B()),setTimeout(Object(C.a)(R.a.mark((function t(){var n,r,a,s;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,H.get("/accommodation-status");case 3:n=t.sent,(r=n.data)&&(a=r.data,e({type:x,payload:a}),e(G())),t.next=15;break;case 8:t.prev=8,t.t0=t.catch(0),e(G()),s=t.t0.response&&t.t0.response.data.message,F("danger",s||"Error occurred while fetching accommodation statuses"),t.t0.response&&t.t0.response.data.error&&t.t0.response.data.error.length>0&&(s+="\n"+Object.values(t.t0.response.data.error).map((function(e){return e.msg})).join("\n"),F("danger",s)),e({type:b,payload:s});case 15:case"end":return t.stop()}}),t,null,[[0,8]])}))),2e3)}catch(t){e(G()),console.error("Error",t)}}))}),[]),Object(X.jsx)("div",{className:"card p-3",children:Object(X.jsxs)("div",{className:"card-body",children:[Object(X.jsxs)("div",{class:"d-flex justify-content-between",children:[Object(X.jsx)("h5",{className:"text-dark-purple",children:"Payment Option"}),Object(X.jsx)("div",{className:"d-flex",style:{width:30,height:30},children:Object(X.jsx)(oe.a,{value:50,text:"50%",styles:Object(oe.b)({pathColor:"#25dc99"})})})]}),Object(X.jsxs)("form",{onSubmit:function(e){e.preventDefault(),function(){var e={};return s&&0!==s.trim().length||(e.requestAmount="The request amount field is required"),n&&0!==n.trim().length||(e.salaryAmount="The salary amount field is required"),!(Object.keys(e).length>0)||(g(e),!1)}()&&t({requestAmount:s,salaryAmount:n,paymentPlan:a})},className:"mt-3",children:[Object(X.jsxs)("div",{className:"form-group",children:[Object(X.jsx)("label",{children:"What's your accomodation status ?"}),y.map((function(e){return Object(X.jsx)("div",{className:"burger-card mb-3 ".concat(m===e.code&&"purple"),onClick:function(){return p(e.code)},children:e.friendlyName},e.code)}))]}),Object(X.jsxs)("div",{className:"form-group my-3",children:[Object(X.jsx)("label",{children:"How much is your rent request amount ?"}),Object(X.jsx)("input",{type:"number",name:"requestAmount",value:s,className:"form-control",onChange:function(e){var t=e.target.value;c(t),function(e){var t=Object(d.a)({},f);e&&0!==e.trim().length?delete t.requestAmount:t.requestAmount="The request amount field is required",g(t)}(t)},placeholder:"Amount"}),f.requestAmount&&Object(X.jsx)("span",{className:"text-danger error-text",children:f.requestAmount})]}),Object(X.jsxs)("div",{className:"form-group my-3",children:[Object(X.jsx)("label",{children:"How much do you earn monthly ?"}),Object(X.jsx)("input",{type:"number",name:"salaryAmount",value:n,className:"form-control",onChange:function(e){var t=e.target.value;i(t),function(e){var t=Object(d.a)({},f);e&&0!==e.trim().length?delete t.salaryAmount:t.salaryAmount="The salary amount field is required",g(t)}(t)},placeholder:"Amount"}),f.salaryAmount&&Object(X.jsx)("span",{className:"text-danger error-text",children:f.salaryAmount})]}),Object(X.jsxs)("div",{className:"form-group my-3",children:[Object(X.jsx)("label",{children:"Choose a monthly payment plan ?"}),Object(X.jsxs)("select",{className:"form-control",name:"paymentPlan",value:a,onChange:function(e){var t=e.target.value;l(t)},children:[Object(X.jsx)("option",{value:"1",defaultChecked:!0,children:"1 Month"}),Object(X.jsx)("option",{value:"3",children:"3 Months"}),Object(X.jsx)("option",{value:"6",children:"6 Months"}),Object(X.jsx)("option",{value:"12",children:"12 Months"})]}),f.paymentPlan&&Object(X.jsx)("span",{className:"text-danger error-text",children:f.paymentPlan})]}),Object(X.jsx)("div",{className:"form-group my-5",children:Object(X.jsx)("input",{type:"submit",disabled:Object.keys(f).length>0,className:"btn btn-lg btn-green form-control",value:"Next"})})]})]})})}),ie=function(){var e=Object(r.useState)(""),t=Object($.a)(e,2),n=t[0],a=t[1],s=Object(r.useState)(""),c=Object($.a)(s,2),o=c[0],l=c[1],i=Object(r.useState)(""),u=Object($.a)(i,2),d=u[0],j=u[1],m=Object(r.useState)(!1),b=Object($.a)(m,2),p=b[0],h=b[1];return Object(X.jsx)("div",{className:"row mt-5",children:Object(X.jsxs)("div",{className:"col-lg-6 offset-lg-3",children:[Object(X.jsx)("h5",{children:"My Rent"}),p?Object(X.jsx)(ce,{salaryAmount:o,handleRequestAmount:a,handlePaymentPlan:j,requestAmount:n,paymentPlan:d,handleShouldDisplayPaymentBreakDown:function(e){return h(e)}}):Object(X.jsx)(le,{handleRentRequest:function(){h(!0)},handleRequestAmount:a,handlePaymentPlan:j,handleSalaryAmount:l,requestAmount:n,paymentPlan:d,salaryAmount:o})]})})},ue=Object(o.b)(null,{createUserAccount:W})(Object(c.g)((function(e){var t=e.history,n=Object(r.useState)(""),a=Object($.a)(n,2),s=a[0],c=a[1],l=Object(r.useState)(""),i=Object($.a)(l,2),u=i[0],j=i[1],m=Object(r.useState)(""),b=Object($.a)(m,2),p=b[0],h=b[1],O=Object(r.useState)({}),f=Object($.a)(O,2),x=f[0],g=f[1],v=Object(o.c)(),y=Object(o.d)((function(e){return e.loading}));return y?Object(X.jsx)(se,{}):Object(X.jsx)("div",{className:"row mt-5",children:Object(X.jsxs)("div",{className:"col-lg-6 offset-lg-3",children:[Object(X.jsx)("h5",{children:"Register"}),Object(X.jsx)("div",{className:"card p-3",children:Object(X.jsx)("div",{className:"card-body",children:Object(X.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n={};if(s&&0!==s.trim().length||(n.userName="The user name field is required"),u&&0!==u.trim().length||(n.fullName="The full name field is required"),p&&0!==p.trim().length||(n.password="The password field is required"),Object.keys(n).length>0)return g(n),!1;v(W({userName:s,fullName:u,password:p},t))},children:[Object(X.jsxs)("div",{className:"form-group",children:[Object(X.jsx)("label",{htmlFor:"userName",children:" Username "}),Object(X.jsx)("input",{type:"text",name:"userName",value:s,id:"userName",className:"form-control",onChange:function(e){var t=e.target.value;c(t),function(e){var t=Object(d.a)({},x);e&&0!==e.trim().length?delete t.userName:t.userName="The user name field is required",g(t)}(t)},placeholder:"Enter your preferred username ?"}),x.userName&&Object(X.jsx)("span",{className:"text-danger error-text",children:x.userName})]}),Object(X.jsxs)("div",{className:"form-group",children:[Object(X.jsx)("label",{htmlFor:"fullName",children:" Full Name "}),Object(X.jsx)("input",{type:"text",name:"fullName",value:u,id:"fullName",className:"form-control",onChange:function(e){var t=e.target.value;j(t),function(e){var t=Object(d.a)({},x);e&&0!==e.trim().length?delete t.fullName:t.fullName="The full name field is required",g(t)}(t)},placeholder:"Enter your full name ?"}),x.fullName&&Object(X.jsx)("span",{className:"text-danger error-text",children:x.fullName})]}),Object(X.jsxs)("div",{className:"form-group",children:[Object(X.jsx)("label",{htmlFor:"password",children:" Password "}),Object(X.jsx)("input",{type:"password",name:"password",value:p,id:"password",className:"form-control",onChange:function(e){var t=e.target.value;h(t),function(e){var t=Object(d.a)({},x);e&&0!==e.trim().length?delete t.password:t.password="The password field is required",g(t)}(t)},placeholder:"Enter your password ?"}),x.password&&Object(X.jsx)("span",{className:"text-danger error-text",children:x.password})]}),Object(X.jsx)("div",{className:"form-group",children:Object(X.jsx)("input",{type:"submit",disabled:Object.keys(x).length>0,className:"btn btn-lg btn-purple form-control",value:"Register"})})]})})})]})})}))),de=Object(o.b)(null,{loginUser:Q})(Object(c.g)((function(e){var t=e.history,n=e.location,a=Object(r.useState)(""),s=Object($.a)(a,2),c=s[0],l=s[1],i=Object(r.useState)(""),u=Object($.a)(i,2),j=u[0],m=u[1],b=Object(r.useState)({}),p=Object($.a)(b,2),h=p[0],O=p[1],f=Object(o.c)(),x=Object(o.d)((function(e){return e.loading}));return x?Object(X.jsx)(se,{}):Object(X.jsx)("div",{className:"row mt-5",children:Object(X.jsxs)("div",{className:"col-lg-6 offset-lg-3",children:[Object(X.jsx)("h5",{children:"Login"}),Object(X.jsx)("div",{className:"card p-3",children:Object(X.jsx)("div",{className:"card-body",children:Object(X.jsxs)("form",{onSubmit:function(e){e.preventDefault();var r={};if(c&&0!==c.trim().length||(r.userName="The user name field is required"),j&&0!==j.trim().length||(r.password="The password field is required"),Object.keys(r).length>0)return O(r),!1;f(Q({userName:c,password:j},{history:t,location:n}))},children:[Object(X.jsxs)("div",{className:"form-group",children:[Object(X.jsx)("label",{htmlFor:"userName",children:" Username "}),Object(X.jsx)("input",{type:"text",name:"userName",value:c,id:"userName",className:"form-control",onChange:function(e){var t=e.target.value;l(t),function(e){var t=Object(d.a)({},h);e&&0!==e.trim().length?delete t.userName:t.userName="The user name field is required",O(t)}(t)},placeholder:"Enter your preferred username ?"}),h.userName&&Object(X.jsx)("span",{className:"text-danger error-text",children:h.userName})]}),Object(X.jsxs)("div",{className:"form-group",children:[Object(X.jsx)("label",{htmlFor:"password",children:" Password "}),Object(X.jsx)("input",{type:"password",name:"password",value:j,id:"password",className:"form-control",onChange:function(e){var t=e.target.value;m(t),function(e){var t=Object(d.a)({},h);e&&0!==e.trim().length?delete t.password:t.password="The password field is required",O(t)}(t)},placeholder:"Enter your password ?"}),h.password&&Object(X.jsx)("span",{className:"text-danger error-text",children:h.password})]}),Object(X.jsx)("div",{className:"form-group",children:Object(X.jsx)("input",{type:"submit",disabled:Object.keys(h).length>0,className:"btn btn-lg btn-purple form-control",value:"Login"})})]})})})]})})}))),je=(n(81),function(){return Object(X.jsx)(r.Fragment,{children:Object(X.jsx)(I.NotificationContainer,{})})}),me=(n(82),n(42)),be=["isUserLoggedIn","component"],pe=Object(o.b)((function(e){return{isUserLoggedIn:null!==e.auth.user}}))((function(e){var t=e.isUserLoggedIn,n=e.component,r=Object(me.a)(e,be);return t||F("You are not authorized to access this route"),Object(X.jsx)(c.b,Object(d.a)(Object(d.a)({},r),{},{render:function(e){return t?Object(X.jsx)(n,Object(d.a)({},e)):Object(X.jsx)(c.a,{to:{pathname:"/login",state:e.location}})}}))})),he=Object(o.b)(null,null)(Object(c.g)((function(e){var t=e.match,n=Object(o.c)(),a=Object(o.d)((function(e){return e})),s=a.loading,c=a.rentRequest.rentRequest;return Object(r.useEffect)((function(){var e,r=t.params.id;r&&n((e=r,function(t){try{t(B()),setTimeout(Object(C.a)(R.a.mark((function n(){var r,a,s,c;return R.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,H.get("/rent-request/".concat(e));case 3:r=n.sent,(a=r.data)&&(s=a.data,t({type:f,payload:s}),t(G())),n.next=15;break;case 8:n.prev=8,n.t0=n.catch(0),t(G()),c=n.t0.response&&n.t0.response.data.message,F("danger",c||"Error occurred while creating user account"),n.t0.response&&n.t0.response.data.error&&n.t0.response.data.error.length>0&&(c+="\n"+Object.values(n.t0.response.data.error).map((function(e){return e.msg})).join("\n"),F("danger",c)),t({type:b,payload:c});case 15:case"end":return n.stop()}}),n,null,[[0,8]])}))),2e3)}catch(n){t(G()),console.error("Error",n)}}))}),[]),s?Object(X.jsx)(se,{}):Object(X.jsx)("div",{className:"row mt-5",children:Object(X.jsx)("div",{className:"col-lg-6 offset-lg-3",children:Object(X.jsx)("div",{className:"card p-3",children:Object(X.jsxs)("div",{className:"card-body",children:[Object(X.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(X.jsx)("h5",{className:"text-dark-purple",children:"Payment Breakdown"}),Object(X.jsxs)("label",{children:["Status : ",Object(X.jsx)("div",{className:"chip",children:function(e){return e&&e.isApproved&&e.isApproved?"Approved":"Pending Approval"}(c)})]})]}),Object(X.jsxs)("div",{className:"form-group my-3",children:[Object(X.jsx)("label",{children:"Rent request amount ?"}),Object(X.jsxs)("div",{children:[" ",c&&ee(c.requestAmount)," "]})]}),Object(X.jsxs)("div",{className:"form-group my-3",children:[Object(X.jsx)("label",{children:"Monthly payment plan ?"}),Object(X.jsxs)("div",{children:[" ",c&&c.paymentPlan," ",c&&1===c.paymentPlan?" month":" months"," "]})]}),Object(X.jsxs)("div",{className:"form-group my-3",children:[Object(X.jsx)("label",{children:"Payment Option "}),Object(X.jsxs)("div",{className:"card light-purple payment-option-card p-3",children:[Object(X.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(X.jsx)("div",{children:" Pre-approved amount"}),Object(X.jsxs)("div",{children:[" ",ee(c&&c.requestAmount)," "]})]}),Object(X.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(X.jsx)("div",{children:" Monthly Payment"}),Object(X.jsxs)("div",{children:[" ",ee(c&&c.monthlyAmount)," "]})]}),Object(X.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(X.jsx)("div",{children:" Tenor"}),Object(X.jsxs)("div",{children:["  ",c&&c.paymentPlan,c&&1===c.paymentPlan?" month":" months"," "]})]})]})]})]})})})})}))),Oe=localStorage.getItem("token"),fe=localStorage.getItem("user");Oe&&fe&&Object.keys(fe).length>0&&(J(Oe),fe=JSON.parse(fe),T.dispatch({type:m,payload:{user:fe,token:Oe}}));var xe=function(){return Object(X.jsx)("div",{className:"App",children:Object(X.jsx)(o.a,{store:T,children:Object(X.jsxs)(c.c,{history:U,children:[Object(X.jsx)(Z,{}),Object(X.jsx)("div",{className:"container py-2",children:Object(X.jsxs)(c.d,{children:[Object(X.jsx)(c.b,{path:"/login",exact:!0,component:de}),Object(X.jsx)(c.b,{path:"/sign-up",exact:!0,component:ue}),Object(X.jsx)(c.b,{path:"/",exact:!0,component:ue}),Object(X.jsx)(pe,{path:"/rent-request/add",exact:!0,component:ie}),Object(X.jsx)(pe,{path:"/rent-request/:id",exact:!0,component:he})]})}),Object(X.jsx)(je,{})]})})})},ge=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,85)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),s(e),c(e)}))};s.a.render(Object(X.jsx)(xe,{}),document.getElementById("root")),ge()}},[[83,1,2]]]);
//# sourceMappingURL=main.54ece938.chunk.js.map